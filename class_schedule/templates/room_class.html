{% extends 'skeleton.html' %}

{% load static %}
{% load material_form %}

{% block extra_head %}
<link
    rel = "stylesheet"
    type = "text/css"
    href = "{% static 'info_mgt/css/info_mgt.css'%}"/>
{% endblock extra_head %}


{% block card_content %}
<table id="room_table" class="table table-hover table-bordered text-center timetable1">
    <br>
    <tr style="border: 0">
    <td colspan="3">
    <form method="POST" action="{% url 'room_class' %}">
    {% csrf_token %}
        <div>
        <label for="campus">校区：</label>
              <select name="campus" style="display: block" class="prefix" id="campus_selection" onclick="document.getElementById('filter2').click()">
                  {% if campus_list %}
                      {% for i in campus_list %}
                      {% if selected_campus and i.id == selected_campus %}
                              <option value="{{ i.id }}" selected>{{ i.name }}</option>
                      {% else %}
                            <option value="{{ i.id }}">{{ i.name }}</option>
                      {% endif %}
                    {% endfor %}
                  {% endif %}
              </select>
          </div>
        <button type="submit" hidden id="filter2">提交</button>
    </form>
    </td>
    <td colspan="3">
        <div>
        <form method="POST" action="{% url 'room_class' %}">
        {% csrf_token %}
        <label for="building">教学楼：</label>
            <select id="building" name="building" style="display: block" class="prefix" onchange="document.getElementById('filter1').click()">
            <option value="" disabled selected>--请选择教学楼--</option>
                  {% if building_list %}
                      {% for j in building_list %}
                            <option value="{{ j.id }}" {% if j.id == selected_building %}selected{% endif %}>{{ j.name }}</option>
                      {% endfor %}
                  {% endif %}
              </select>
            <button type="submit" hidden id="filter1">提交</button>
        </form>
        </div>
    </td>
    </form>
<form method="get">
<td colspan="3">
    <label for="room_id">门牌号：</label>
          <select name="room_id" style="display: block" class="prefix" id="room_id" required>
              <option value="" disabled selected>请选择教室门牌号</option>
              {% if room_list %}
                  {% for r in room_list %}
                  <option value="{{ r.id }}" {% if r.id == selected_room %}selected{% endif %}>{{ r.room_number }}</option>
                  {% endfor %}
              {% endif %}
</td>
   </tr>
    <tr style="border: 0">
        <td colspan="4" width="40%">
    <div>
        <label for="year">学年：</label>
        <select name="year" style="display: block" class="prefix" id="year" required>
            <option value="2021-2022" {% if year == '2021-2022' %}selected{% endif %}>2021-2022</option>
            <option value="2020-2021" {% if year == '2020-2021' %}selected{% endif %}>2020-2021</option>
            <option value="2019-2020" {% if year == '2019-2020' %}selected{% endif %}>2019-2020</option>
            <option value="2018-2019" {% if year == '2019-2020' %}selected{% endif %}>2018-2019</option>
        </select>
    </div>
        </td>
    <td colspan="4" width="40%">
    <div>
        <label for="term">学期：</label>
        <select name="term" style="display: block" class="prefix" id="term" required>
            <option value="AU" {% if term == 'AU' %}selected{% endif %}>秋</option>
            <option value="WI" {% if term == 'WI' %}selected{% endif %}>冬</option>
            <option value="SP" {% if term == 'SP' %}selected{% endif %}>春</option>
            <option value="SU" {% if term == 'SU' %}selected{% endif %}>夏</option>
        </select>
    </div>
        </td>
        <td colspan="1" width="20%">
                    <br/>
        <button type="submit" style="background:#08c" class="btn btn-primary btn-sm" id="btn_cskb">查询课表</button>
                </td>
    </tr>
</form>
<br><br><hr>
{#点击查询之后显示#}
    <tbody>
    <tr style="border: 0">
        <td colspan="16">
            <div class="timetable_title"><h6 align="center">{{year}}学年 {{ term_char }} 学期{{ room_name }}的课表</h6></div>
        </td>
    </tr>
    <tr class="tbody_head">
        <td colspan="2" rowspan="1">
            <span class="time">时间</span>
        </td>
        <td colspan="1" width="12%">
            <span class="time">星期一</span>
        </td>
        <td colspan="1" width="12%">
            <span class="time">星期二</span>
        </td>
        <td colspan="1" width="12%">
            <span class="time">星期三</span>
        </td>
        <td colspan="1" width="12%">
            <span class="time">星期四</span>
        </td>
        <td colspan="1" width="12%">
            <span class="time">星期五</span>
        </td>
        <td colspan="1" width="12%">
            <span class="time">星期六</span>
        </td>
        <td colspan="1" width="12%">
            <span class="time">星期日</span>
        </td>
    </tr>

{#上午的五行遍历#}
{# 第一行 #}
    <tr>
        <td colspan="1" rowspan="5">
            <span class="festival">上午</span>
        </td>
        <td>
            <span class="festival">1</span>
        </td>

        {% if not course11 %}
            <td id="1-1" rowspan="1" width="6%" >
                <span class="time"></span>
            </td>
        {% elif course11.duration == 1 %}
            <td id="1-1" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course11.name }}<br>{{ course11.teacher}}<br><br>
                </font>
            </td>
        {% elif course11.duration == 2 %}
            <td id="1-1" rowspan="2" width="6%" bgcolor="#58B9DC">
                <span class="time"></span>
                <font color="white">{{ course11.name }}<br>{{ course11.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course21 %}
            <td id="2-1" rowspan="1" width="6%" >
                <span class="time"></span>
            </td>
        {% elif course21.duration == 1 %}
            <td id="2-1" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course21.name }}<br>{{ course21.teacher}}<br><br>
                </font>
            </td>
        {% elif course21.duration == 2 %}
            <td id="2-1" rowspan="2" width="6%" bgcolor="#BABABA">
                <span class="time"></span>
                <font color="white">{{ course21.name }}<br>{{ course21.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course31 %}
            <td id="3-1" rowspan="1" width="6%" >
                <span class="time"></span>
            </td>
        {% elif course31.duration == 1 %}
            <td id="3-1" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course31.name }}<br>{{ course31.teacher}}<br><br>
                </font>
            </td>
        {% elif course31.duration == 2 %}
            <td id="3-1" rowspan="2" width="6%" bgcolor="#58B9DC">
                <span class="time"></span>
                <font color="white">{{ course31.name }}<br>{{ course31.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course41 %}
            <td id="4-1" rowspan="1" width="6%" >
                <span class="time"></span>
            </td>
        {% elif course41.duration == 1 %}
            <td id="4-1" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course41.name }}<br>{{ course41.teacher}}<br><br>
                </font>
            </td>
        {% elif course41.duration == 2 %}
            <td id="4-1" rowspan="2" width="6%" bgcolor="#BABABA">
                <span class="time"></span>
                <font color="white">{{ course41.name }}<br>{{ course41.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course51 %}
            <td id="5-1" rowspan="1" width="6%" >
                <span class="time"></span>
            </td>
        {% elif course51.duration == 1 %}
            <td id="5-1" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course51.name }}<br>{{ course51.teacher}}<br><br>
                </font>
            </td>
        {% elif course51.duration == 2 %}
            <td id="5-1" rowspan="2" width="6%" bgcolor="#58B9DC">
                <span class="time"></span>
                <font color="white">{{ course51.name }}<br>{{ course51.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course61 %}
            <td id="6-1" rowspan="1" width="6%" >
                <span class="time"></span>
            </td>
        {% elif course61.duration == 1 %}
            <td id="6-1" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course61.name }}<br>{{ course61.teacher}}<br><br>
                </font>
            </td>
        {% elif course61.duration == 2 %}
            <td id="6-1" rowspan="2" width="6%" bgcolor="#BABABA">
                <span class="time"></span>
                <font color="white">{{ course61.name }}<br>{{ course61.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course71 %}
            <td id="7-1" rowspan="1" width="6%" >
                <span class="time"></span>
            </td>
        {% elif course71.duration == 1 %}
            <td id="7-1" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course71.name }}<br>{{ course71.teacher}}<br><br>
                </font>
            </td>
        {% elif course71.duration == 2 %}
            <td id="7-1" rowspan="2" width="6%" bgcolor="#58B9DC">
                <span class="time"></span>
                <font color="white">{{ course71.name }}<br>{{ course71.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

    </tr>
{# 第二行 #}
    <tr >
        <td>
            <span class="festival">2</span>
        </td>
        {% if not course11 or course11.duration == 1 %}
            {% if not course12 %}
                <td id="1-2" rowspan="1" width="6%" >
                    <span class="time"></span>
                </td>
            {% elif course12.duration == 1 %}
                <td id="1-2" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course12.name }}<br>{{ course12.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course21 or course21.duration == 1 %}
            {% if not course22 %}
                <td id="2-2" rowspan="1" width="6%" >
                    <span class="time"></span>
                </td>
            {% elif course22.duration == 1 %}
                <td id="2-2" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course22.name }}<br>{{ course22.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course31 or course31.duration == 1 %}
            {% if not course32 %}
                <td id="3-2" rowspan="1" width="6%" >
                    <span class="time"></span>
                </td>
            {% elif course32.duration == 1 %}
                <td id="3-2" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course32.name }}<br>{{ course32.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course41 or course41.duration == 1 %}
            {% if not course42 %}
                <td id="4-2" rowspan="1" width="6%" >
                    <span class="time"></span>
                </td>
            {% elif course42.duration == 1 %}
                <td id="4-2" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course42.name }}<br>{{ course42.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course51 or course51.duration == 1 %}
            {% if not course52 %}
                <td id="5-2" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course52.duration == 1 %}
                <td id="5-2" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course52.name }}<br>{{ course52.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course61 or course61.duration == 1 %}
            {% if not course62 %}
                <td id="6-2" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course62.duration == 1 %}
                <td id="6-2" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course62.name }}<br>{{ course62.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course71 or course71.duration == 1 %}
            {% if not course72 %}
                <td id="7-2" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course72.duration == 1 %}
                <td id="7-2" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course72.name }}<br>{{ course72.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

    </tr>
{# 第三行 #}
    <tr >
        <td>
            <span class="festival">3</span>
        </td>
        {% if not course13 %}
            <td id="1-3" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course13.duration == 1 %}
            <td id="1-3" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course13.name }}<br>{{ course13.teacher}}<br><br>
                </font>
            </td>
        {% elif course13.duration == 2 %}
            <td id="1-3" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course13.name }}<br>{{ course13.teacher}}<br><br>
                </font>
            </td>
        {% elif course13.duration == 3 %}
            <td id="1-3" rowspan="3" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course13.name }}<br>{{ course13.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course23 %}
            <td id="2-3" rowspan="1" width="6%" >
                <span class="time"></span>
            </td>
        {% elif course23.duration == 1 %}
            <td id="2-3" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course23.name }}<br>{{ course23.teacher}}<br><br>
                </font>
            </td>
        {% elif course23.duration == 2 %}
            <td id="2-3" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course23.name }}<br>{{ course23.teacher}}<br><br>
                </font>
            </td>
        {% elif course23.duration == 3 %}
            <td id="2-3" rowspan="3" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course23.name }}<br>{{ course23.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course33 %}
            <td id="3-3" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course33.duration == 1 %}
            <td id="3-3" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course33.name }}<br>{{ course33.teacher}}<br><br>
                </font>
            </td>
        {% elif course33.duration == 2 %}
            <td id="3-3" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course33.name }}<br>{{ course33.teacher}}<br><br>
                </font>
            </td>
        {% elif course33.duration == 3 %}
            <td id="3-3" rowspan="3" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course33.name }}<br>{{ course33.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course43 %}
            <td id="4-3" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course43.duration == 1 %}
            <td id="4-3" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course43.name }}<br>{{ course43.teacher}}<br><br>
                </font>
            </td>
        {% elif course43.duration == 2 %}
            <td id="4-3" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course43.name }}<br>{{ course43.teacher}}<br><br>
                </font>
            </td>
        {% elif course43.duration == 3 %}
            <td id="4-3" rowspan="3" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course43.name }}<br>{{ course43.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course53 %}
            <td id="5-3" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course53.duration == 1 %}
            <td id="5-3" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course53.name }}<br>{{ course53.teacher}}<br><br>
                </font>
            </td>
        {% elif course53.duration == 2 %}
            <td id="5-3" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course53.name }}<br>{{ course53.teacher}}<br><br>
                </font>
            </td>
        {% elif course53.duration == 3 %}
            <td id="5-3" rowspan="3" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course53.name }}<br>{{ course53.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course63 %}
            <td id="6-3" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course63.duration == 1 %}
            <td id="6-3" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course63.name }}<br>{{ course63.teacher}}<br><br>
                </font>
            </td>
        {% elif course63.duration == 2 %}
            <td id="6-3" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course63.name }}<br>{{ course63.teacher}}<br><br>
                </font>
            </td>
        {% elif course63.duration == 3 %}
            <td id="6-3" rowspan="3" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course63.name }}<br>{{ course63.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course73 %}
            <td id="7-3" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course73.duration == 1 %}
            <td id="7-3" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course73.name }}<br>{{ course73.teacher}}<br><br>
                </font>
            </td>
        {% elif course73.duration == 2 %}
            <td id="7-3" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course73.name }}<br>{{ course73.teacher}}<br><br>
                </font>
            </td>
        {% elif course73.duration == 3 %}
            <td id="7-3" rowspan="3" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course73.name }}<br>{{ course73.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

    </tr>
{# 第四行 #}
    <tr>
        <td>
            <span class="festival">4</span>
        </td>
        {% if not course13 or course13.duration == 1 %}
            {% if not course14 %}
                <td id="1-4" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course14.duration == 1 %}
                <td id="1-4" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course14.name }}<br>{{ course14.teacher}}<br><br>
                    </font>
                </td>
            {% elif course14.duration == 2 %}
                <td id="1-4" rowspan="2" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course14.name }}<br>{{ course14.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course23 or course23.duration == 1 %}
            {% if not course24 %}
                <td id="2-4" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course14.duration == 1 %}
                <td id="2-4" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course24.name }}<br>{{ course24.teacher}}<br><br>
                    </font>
                </td>
            {% elif course24.duration == 2 %}
                <td id="2-4" rowspan="2" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course14.name }}<br>{{ course14.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course33 or course33.duration == 1 %}
            {% if not course34 %}
                <td id="3-4" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course34.duration == 1 %}
                <td id="3-4" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course34.name }}<br>{{ course34.teacher}}<br><br>
                    </font>
                </td>
            {% elif course34.duration == 2 %}
                <td id="3-4" rowspan="2" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course14.name }}<br>{{ course14.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course43 or course43.duration == 1 %}
            {% if not course44 %}
                <td id="4-4" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course44.duration == 1 %}
                <td id="4-4" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course44.name }}<br>{{ course44.teacher}}<br><br>
                    </font>
                </td>
            {% elif course44.duration == 2 %}
                <td id="4-4" rowspan="2" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course14.name }}<br>{{ course14.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course53 or course53.duration == 1 %}
            {% if not course54 %}
                <td id="5-4" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course54.duration == 1 %}
                <td id="5-4" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course54.name }}<br>{{ course54.teacher}}<br><br>
                    </font>
                </td>
            {% elif course54.duration == 2 %}
                <td id="5-4" rowspan="2" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course14.name }}<br>{{ course14.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course63 or course63.duration == 1 %}
            {% if not course64 %}
                <td id="6-4" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course64.duration == 1 %}
                <td id="6-4" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course64.name }}<br>{{ course64.teacher}}<br><br>
                    </font>
                </td>
            {% elif course64.duration == 2 %}
                <td id="6-4" rowspan="2" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course14.name }}<br>{{ course14.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course73 or course73.duration == 1 %}
            {% if not course74 %}
                <td id="7-4" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course74.duration == 1 %}
                <td id="7-4" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course74.name }}<br>{{ course74.teacher}}<br><br>
                    </font>
                </td>
            {% elif course74.duration == 2 %}
                <td id="7-4" rowspan="2" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course14.name }}<br>{{ course14.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

    </tr>
{# 第五行 #}
    <tr>
        <td>
            <span class="festival">5</span>
        </td>
        {% if course13.duration != 3 and course14.duration != 2 %}
            {% if not course15 %}
                <td id="1-5" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course15.duration == 1 %}
                <td id="1-5" rowspan="1" width="6%" bgcolor="#419BBF">
                    <span class="time"></span>
                    <font color="white">{{ course15.name }}<br>{{ course15.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course23.duration != 3 and course24.duration != 2 %}
            {% if not course25 %}
                <td id="2-5" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course25.duration == 1 %}
                <td id="2-5" rowspan="1" width="6%" bgcolor="#3F8FC0">
                    <span class="time"></span>
                    <font color="white">{{ course25.name }}<br>{{ course25.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course33.duration != 3 and course34.duration != 2 %}
            {% if not course35 %}
                <td id="3-5" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course35.duration == 1 %}
                <td id="3-5" rowspan="1" width="6%" bgcolor="#419BBF">
                    <span class="time"></span>
                    <font color="white">{{ course35.name }}<br>{{ course35.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course43.duration != 3 and course44.duration != 2 %}
            {% if not course45 %}
                <td id="4-5" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course45.duration == 1 %}
                <td id="4-5" rowspan="1" width="6%" bgcolor="#3F8FC0">
                    <span class="time"></span>
                    <font color="white">{{ course45.name }}<br>{{ course45.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course53.duration != 3 and course54.duration != 2 %}
            {% if not course55 %}
                <td id="5-5" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course55.duration == 1 %}
                <td id="5-5" rowspan="1" width="6%" bgcolor="#419BBF">
                    <span class="time"></span>
                    <font color="white">{{ course55.name }}<br>{{ course55.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course63.duration != 3 and course64.duration != 2 %}
            {% if not course65 %}
                <td id="6-5" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course65.duration == 1 %}
                <td id="6-5" rowspan="1" width="6%" bgcolor="#3F8FC0">
                    <span class="time"></span>
                    <font color="white">{{ course65.name }}<br>{{ course65.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course73.duration != 3 and course74.duration != 2 %}
            {% if not course75 %}
                <td id="7-5" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course75.duration == 1 %}
                <td id="7-5" rowspan="1" width="6%" bgcolor="#419BBF">
                    <span class="time"></span>
                    <font color="white">{{ course75.name }}<br>{{ course75.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

    </tr>

{#下午的五行遍历#}
    {# 第六行 #}
    <tr>
        <td colspan="1" rowspan="5">
            <span class="festival">下午</span>
        </td>
        <td>
            <span class="festival">6</span>
        </td>
        {% if not course16 %}
            <td id="1-6" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course16.duration == 1 %}
            <td id="1-6" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course16.name }}<br>{{ course16.teacher}}<br><br>
                </font>
            </td>
        {% elif course16.duration == 2 %}
            <td id="1-6" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course16.name }}<br>{{ course16.teacher}}<br><br>
                </font>
            </td>
        {% elif course16.duration == 3 %}
            <td id="1-6" rowspan="3" width="6%" bgcolor="#3F8FC0">
                <span class="time"></span>
                <font color="white">{{ course63.name }}<br>{{ course63.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course26 %}
            <td id="2-6" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course26.duration == 1 %}
            <td id="2-6" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course26.name }}<br>{{ course26.teacher}}<br><br>
                </font>
            </td>
        {% elif course26.duration == 2 %}
            <td id="2-6" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course26.name }}<br>{{ course26.teacher}}<br><br>
                </font>
            </td>
        {% elif course26.duration == 3 %}
            <td id="2-6" rowspan="3" width="6%" bgcolor="#419BBF">
                <span class="time"></span>
                <font color="white">{{ course26.name }}<br>{{ course26.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course36 %}
            <td id="3-6" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course36.duration == 1 %}
            <td id="3-6" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course36.name }}<br>{{ course36.teacher}}<br><br>
                </font>
            </td>
        {% elif course36.duration == 2 %}
            <td id="3-6" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course36.name }}<br>{{ course36.teacher}}<br><br>
                </font>
            </td>
        {% elif course36.duration == 3 %}
            <td id="3-6" rowspan="3" width="6%" bgcolor="#3F8FC0">
                <span class="time"></span>
                <font color="white">{{ course36.name }}<br>{{ course36.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course46 %}
            <td id="4-6" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course46.duration == 1 %}
            <td id="4-6" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course46.name }}<br>{{ course46.teacher}}<br><br>
                </font>
            </td>
        {% elif course46.duration == 2 %}
            <td id="4-6" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course46.name }}<br>{{ course46.teacher}}<br><br>
                </font>
            </td>
        {% elif course46.duration == 3 %}
            <td id="4-6" rowspan="3" width="6%" bgcolor="#419BBF">
                <span class="time"></span>
                <font color="white">{{ course46.name }}<br>{{ course46.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course56 %}
            <td id="5-6" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course56.duration == 1 %}
            <td id="5-6" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course56.name }}<br>{{ course56.teacher}}<br><br>
                </font>
            </td>
        {% elif course56.duration == 2 %}
            <td id="5-6" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course56.name }}<br>{{ course56.teacher}}<br><br>
                </font>
            </td>
        {% elif course56.duration == 3 %}
            <td id="5-6" rowspan="3" width="6%" bgcolor="#3F8FC0">
                <span class="time"></span>
                <font color="white">{{ course56.name }}<br>{{ course56.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course66 %}
            <td id="6-6" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course66.duration == 1 %}
            <td id="6-6" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course66.name }}<br>{{ course66.teacher}}<br><br>
                </font>
            </td>
        {% elif course66.duration == 2 %}
            <td id="6-6" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course66.name }}<br>{{ course66.teacher}}<br><br>
                </font>
            </td>
        {% elif course66.duration == 3 %}
            <td id="6-6" rowspan="3" width="6%" bgcolor="#419BBF">
                <span class="time"></span>
                <font color="white">{{ course66.name }}<br>{{ course66.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course76 %}
            <td id="7-6" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course76.duration == 1 %}
            <td id="7-6" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course76.name }}<br>{{ course76.teacher}}<br><br>
                </font>
            </td>
        {% elif course76.duration == 2 %}
            <td id="7-6" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course76.name }}<br>{{ course76.teacher}}<br><br>
                </font>
            </td>
        {% elif course76.duration == 3 %}
            <td id="7-6" rowspan="3" width="6%" bgcolor="#3F8FC0">
                <span class="time"></span>
                <font color="white">{{ course76.name }}<br>{{ course76.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

    </tr>
{# 第七行 #}
    <tr >
        <td>
            <span class="festival">7</span>
        </td>
        {% if not course16 or course16.duration == 1 %}
            {% if not course17 %}
                <td id="1-7" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course17.duration == 1 %}
                <td id="1-7" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course17.name }}<br>{{ course17.teacher}}<br><br>
                    </font>
                </td>
            {% elif course17.duration == 2 %}
                <td id="1-7" rowspan="2" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course17.name }}<br>{{ course17.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course26 or course26.duration == 1 %}
            {% if not course27 %}
                <td id="2-7" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course27.duration == 1 %}
                <td id="2-7" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course27.name }}<br>{{ course27.teacher}}<br><br>
                    </font>
                </td>
            {% elif course27.duration == 2 %}
                <td id="2-7" rowspan="2" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course27.name }}<br>{{ course27.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course36 or course36.duration == 1 %}
            {% if not course37 %}
                <td id="3-7" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course37.duration == 1 %}
                <td id="3-7" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course37.name }}<br>{{ course37.teacher}}<br><br>
                    </font>
                </td>
            {% elif course37.duration == 2 %}
                <td id="3-7" rowspan="2" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course37.name }}<br>{{ course37.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course46 or course46.duration == 1 %}
            {% if not course47 %}
                <td id="4-7" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course47.duration == 1 %}
                <td id="4-7" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course47.name }}<br>{{ course47.teacher}}<br><br>
                    </font>
                </td>
            {% elif course47.duration == 2 %}
                <td id="4-7" rowspan="2" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course47.name }}<br>{{ course47.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course56 or course56.duration == 1 %}
            {% if not course57 %}
                <td id="5-7" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course57.duration == 1 %}
                <td id="5-7" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course57.name }}<br>{{ course57.teacher}}<br><br>
                    </font>
                </td>
            {% elif course57.duration == 2 %}
                <td id="5-7" rowspan="2" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course57.name }}<br>{{ course57.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course66 or course66.duration == 1 %}
            {% if not course67 %}
                <td id="6-7" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course67.duration == 1 %}
                <td id="6-7" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course67.name }}<br>{{ course67.teacher}}<br><br>
                    </font>
                </td>
            {% elif course67.duration == 2 %}
                <td id="6-7" rowspan="2" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course67.name }}<br>{{ course67.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course76 or course76.duration == 1 %}
            {% if not course77 %}
                <td id="7-7" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course77.duration == 1 %}
                <td id="7-7" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course77.name }}<br>{{ course77.teacher}}<br><br>
                    </font>
                </td>
            {% elif course77.duration == 2 %}
                <td id="7-7" rowspan="2" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course77.name }}<br>{{ course77.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

    </tr>
{# 第八行 #}
    <tr>
        <td>
            <span class="festival">8</span>
        </td>
        {% if course17.duration != 2 and course16.duration != 3 %}
        {% if not course18 %}
            <td id="1-8" rowspan="1" width="6%">
                <span class="time" > </span>
            </td>
        {% elif course18.duration == 1 %}
            <td id="1-8" rowspan="1" width="6%" bgcolor="#3F8FC0">
                <span class="time"></span>
                <font color="white">{{ course18.name }}<br>{{ course18.teacher}}<br><br>
                </font>
            </td>
        {% endif %}
        {% endif %}

        {% if course27.duration != 2 and course26.duration != 3 %}
            {% if not course28 %}
                <td id="2-8" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course28.duration == 1 %}
                <td id="2-8" rowspan="1" width="6%" bgcolor="#419BBF">
                   <span class="time"></span>
                    <font color="white">{{ course28.name }}<br>{{ course28.teacher}}<br><br>
                   </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course37.duration != 2 and course36.duration != 3 %}
        {% if not course38 %}
            <td id="3-8" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course38.duration == 1 %}
            <td id="3-8" rowspan="1" width="6%" bgcolor="#3F8FC0">
                <span class="time"></span>
                <font color="white">{{ course38.name }}<br>{{ course38.teacher}}<br><br>
                </font>
            </td>
        {% endif %}
{% endif %}

        {% if course47.duration != 2 and course46.duration != 3 %}
        {% if not course48 %}
            <td id="4-8" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course48.duration == 1 %}
            <td id="4-8" rowspan="1" width="6%" bgcolor="#419BBF">
                <span class="time"></span>
                <font color="white">{{ course48.name }}<br>{{ course48.teacher}}<br><br>
                </font>
            </td>
        {% endif %}
{% endif %}

        {% if course57.duration != 2 and course56.duration != 3 %}
        {% if not course58 %}
            <td id="5-8" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course58.duration == 1 %}
            <td id="5-8" rowspan="1" width="6%" bgcolor="#3F8FC0">
                <span class="time"></span>
                <font color="white">{{ course58.name }}<br>{{ course58.teacher}}<br><br>
                </font>
            </td>
        {% endif %}
{% endif %}

        {% if course67.duration != 2 and course66.duration != 3 %}
        {% if not course68 %}
            <td id="6-8" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course68.duration == 1 %}
            <td id="6-8" rowspan="1" width="6%" bgcolor="#419BBF">
                <span class="time"></span>
                <font color="white">{{ course68.name }}<br>{{ course68.teacher}}<br><br>
                </font>
            </td>
        {% endif %}
        {% endif %}

        {% if course77.duration != 2 and course76.duration != 3 %}
        {% if not course78 %}
            <td id="7-8" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course78.duration == 1 %}
            <td id="7-8" rowspan="1" width="6%" bgcolor="#3F8FC0">
                <span class="time"></span>
                <font color="white">{{ course78.name }}<br>{{ course78.teacher}}<br><br>
                </font>
            </td>
        {% endif %}
        {% endif %}

    </tr>
{# 第九行 #}
    <tr>
        <td>
            <span class="festival">9</span>
        </td>
        {% if not course18 or course18.duration == 1 %}
            {% if not course19 %}
                <td id="1-9" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course19.duration == 1 %}
                <td id="1-9" rowspan="1" width="6%" bgcolor="#0D62A5">
                    <span class="time"></span>
                    <font color="white">{{ course19.name }}<br>{{ course19.teacher}}<br><br>
                    </font>
                </td>
            {% elif course19.duration == 2 %}
                <td id="1-9" rowspan="2" width="6%" bgcolor="#0D62A5">
                    <span class="time"></span>
                    <font color="white">{{ course19.name }}<br>{{ course19.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course28 or course28.duration == 1 %}
            {% if not course29 %}
                <td id="2-9" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course29.duration == 1 %}
                <td id="2-9" rowspan="1" width="6%" bgcolor="#2F7FBA">
                    <span class="time"></span>
                    <font color="white">{{ course29.name }}<br>{{ course29.teacher}}<br><br>
                    </font>
                </td>
            {% elif course29.duration == 2 %}
                <td id="2-9" rowspan="2" width="6%" bgcolor="#2F7FBA">
                    <span class="time"></span>
                    <font color="white">{{ course29.name }}<br>{{ course29.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course38 or course38.duration == 1 %}
            {% if not course39 %}
                <td id="3-9" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course39.duration == 1 %}
                <td id="3-9" rowspan="1" width="6%" bgcolor="#0D62A5">
                    <span class="time"></span>
                    <font color="white">{{ course39.name }}<br>{{ course39.teacher}}<br><br>
                    </font>
                </td>
            {% elif course39.duration == 2 %}
                <td id="3-9" rowspan="2" width="6%" bgcolor="#0D62A5">
                    <span class="time"></span>
                    <font color="white">{{ course39.name }}<br>{{ course39.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course48 or course48.duration == 1 %}
            {% if not course49 %}
                <td id="4-9" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course49.duration == 1 %}
                <td id="4-9" rowspan="1" width="6%" bgcolor="#2F7FBA">
                    <span class="time"></span>
                    <font color="white">{{ course49.name }}<br>{{ course49.teacher}}<br><br>
                    </font>
                </td>
            {% elif course49.duration == 2 %}
                <td id="4-9" rowspan="2" width="6%" bgcolor="#2F7FBA">
                    <span class="time"></span>
                    <font color="white">{{ course49.name }}<br>{{ course49.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course58 or course58.duration == 1 %}
            {% if not course59 %}
                <td id="5-9" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course59.duration == 1 %}
                <td id="5-9" rowspan="1" width="6%" bgcolor="#0D62A5">
                    <span class="time"></span>
                    <font color="white">{{ course59.name }}<br>{{ course59.teacher}}<br><br>
                    </font>
                </td>
            {% elif course59.duration == 2 %}
                <td id="5-9" rowspan="2" width="6%" bgcolor="#0D62A5">
                    <span class="time"></span>
                    <font color="white">{{ course59.name }}<br>{{ course59.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course68 or course68.duration == 1 %}
            {% if not course69 %}
                <td id="6-9" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course69.duration == 1 %}
                <td id="6-9" rowspan="1" width="6%" bgcolor="#2F7FBA">
                    <span class="time"></span>
                    <font color="white">{{ course69.name }}<br>{{ course69.teacher}}<br><br>
                    </font>
                </td>
            {% elif course69.duration == 2 %}
                <td id="6-9" rowspan="2" width="6%" bgcolor="#2F7FBA">
                    <span class="time"></span>
                    <font color="white">{{ course69.name }}<br>{{ course69.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course78 or course78.duration == 1 %}
            {% if not course79 %}
                <td id="7-9" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course79.duration == 1 %}
                <td id="7-9" rowspan="1" width="6%" bgcolor="#0D62A5">
                    <span class="time"></span>
                    <font color="white">{{ course79.name }}<br>{{ course79.teacher}}<br><br>
                    </font>
                </td>
            {% elif course79.duration == 2 %}
                <td id="7-9" rowspan="2" width="6%" bgcolor="#0D62A5">
                    <span class="time"></span>
                    <font color="white">{{ course79.name }}<br>{{ course79.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

    </tr>
{# 第十行 #}
    <tr>
        <td>
            <span class="festival">10</span>
        </td>
        {% if not course19 or course19.duration != 2 %}
            {% if not course1a %}
                <td id="1-a" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course1a.duration == 1 %}
                <td id="1-a" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course1a.name }}<br>{{ course1a.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course29 or course29.duration != 2 %}
            {% if not course2a %}
                <td id="2-a" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course2a.duration == 1 %}
                <td id="2-a" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course2a.name }}<br>{{ course2a.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course39 or course39.duration != 2 %}
            {% if not course3a %}
                <td id="3-a" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course3a.duration == 1 %}
                <td id="3-a" rowspan="1" width="6%"  bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course3a.name }}<br>{{ course3a.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course49 or course49.duration != 2 %}
            {% if not course4a %}
                <td id="4-a" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course4a.duration == 1 %}
                <td id="4-a" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course4a.name }}<br>{{ course4a.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course59 or course59.duration != 2 %}
            {% if not course5a %}
                <td id="5-a" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course5a.duration == 1 %}
                <td id="5-a" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course5a.name }}<br>{{ course5a.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course69 or course69.duration != 2 %}
            {% if not course6a %}
                <td id="6-a" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course6a.duration == 1 %}
                <td id="6-a" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course6a.name }}<br>{{ course6a.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course79 or course79.duration != 2 %}
            {% if not course7a %}
                <td id="7-a" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course7a.duration == 1 %}
                <td id="7-a" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course7a.name }}<br>{{ course7a.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

    </tr>

{#晚上的三行遍历#}
{# 第十一行 #}
    <tr>
        <td colspan="1" rowspan="3">
            <span class="festival">晚上</span>
        </td>
        <td>
            <span class="festival">11</span>
        </td>
        {% if not course1b %}
            <td id="1-b" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course1b.duration == 1 %}
            <td id="1-b" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course1b.name }}<br>{{ course1b.teacher}}<br><br>
                </font>
            </td>
        {% elif course1b.duration == 2 %}
            <td id="1-b" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course1b.name }}<br>{{ course1b.teacher}}<br><br>
                </font>
            </td>
        {% elif course1b.duration == 3 %}
            <td id="1-b" rowspan="3" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course1b.name }}<br>{{ course1b.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course2b %}
            <td id="2-b" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course2b.duration == 1 %}
            <td id="2-b" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course2b.name }}<br>{{ course2b.teacher}}<br><br>
                </font>
            </td>
        {% elif course2b.duration == 2 %}
            <td id="2-b" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course2b.name }}<br>{{ course2b.teacher}}<br><br>
                </font>
            </td>
        {% elif course2b.duration == 3 %}
            <td id="2-b" rowspan="3" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course2b.name }}<br>{{ course2b.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course3b %}
            <td id="3-b" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course3b.duration == 1 %}
            <td id="3-b" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course3b.name }}<br>{{ course3b.teacher}}<br><br>
                </font>
            </td>
        {% elif course3b.duration == 2 %}
            <td id="3-b" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course3b.name }}<br>{{ course3b.teacher}}<br><br>
                </font>
            </td>
        {% elif course3b.duration == 3 %}
            <td id="3-b" rowspan="3" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course3b.name }}<br>{{ course3b.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course4b %}
            <td id="4-b" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course4b.duration == 1 %}
            <td id="4-b" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course4b.name }}<br>{{ course4b.teacher}}<br><br>
                </font>
            </td>
        {% elif course4b.duration == 2 %}
            <td id="4-b" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course4b.name }}<br>{{ course4b.teacher}}<br><br>
                </font>
            </td>
        {% elif course4b.duration == 3 %}
            <td id="4-b" rowspan="3" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course4b.name }}<br>{{ course4b.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course5b %}
            <td id="5-b" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course5b.duration == 1 %}
            <td id="5-b" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course5b.name }}<br>{{ course5b.teacher}}<br><br>
                </font>
            </td>
        {% elif course5b.duration == 2 %}
            <td id="5-b" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course5b.name }}<br>{{ course5b.teacher}}<br><br>
                </font>
            </td>
        {% elif course5b.duration == 3 %}
            <td id="5-b" rowspan="3" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course5b.name }}<br>{{ course5b.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course6b %}
            <td id="6-b" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course6b.duration == 1 %}
            <td id="6-b" rowspan="1" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course6b.name }}<br>{{ course6b.teacher}}<br><br>
                </font>
            </td>
        {% elif course6b.duration == 2 %}
            <td id="6-b" rowspan="2" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course6b.name }}<br>{{ course6b.teacher}}<br><br>
                </font>
            </td>
        {% elif course6b.duration == 3 %}
            <td id="6-b" rowspan="3" width="6%" bgcolor="#0D62A5">
                <span class="time"></span>
                <font color="white">{{ course6b.name }}<br>{{ course6b.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

        {% if not course7b %}
            <td id="7-b" rowspan="1" width="6%">
                <span class="time"></span>
            </td>
        {% elif course7b.duration == 1 %}
            <td id="7-b" rowspan="1" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course7b.name }}<br>{{ course7b.teacher}}<br><br>
                </font>
            </td>
        {% elif course7b.duration == 2 %}
            <td id="7-b" rowspan="2" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course7b.name }}<br>{{ course7b.teacher}}<br><br>
                </font>
            </td>
        {% elif course7b.duration == 3 %}
            <td id="7-b" rowspan="3" width="6%" bgcolor="#2F7FBA">
                <span class="time"></span>
                <font color="white">{{ course7b.name }}<br>{{ course7b.teacher}}<br><br>
                </font>
            </td>
        {% endif %}

    </tr>
{# 第十二行 #}
    <tr>
        <td>
            <span class="festival">12</span>
        </td>
        {% if not course1b or course1b.duration == 1 %}
            {% if not course1c %}
                <td id="1-c" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course1c.duration == 1 %}
                <td id="1-c" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course1c.name }}<br>{{ course1c.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course2b or course2b.duration == 1 %}
            {% if not course2c %}
                <td id="2-c" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course1c.duration == 1 %}
                <td id="2-c" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course2c.name }}<br>{{ course2c.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course3b or course3b.duration == 1 %}
            {% if not course3c %}
                <td id="3-c" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course3c.duration == 1 %}
                <td id="3-c" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course3c.name }}<br>{{ course3c.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course4b or course4b.duration == 1 %}
            {% if not course4c %}
                <td id="4-c" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course4c.duration == 1 %}
                <td id="4-c" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course4c.name }}<br>{{ course4c.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course5b or course5b.duration == 1 %}
            {% if not course5c %}
                <td id="5-c" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course5c.duration == 1 %}
                <td id="5-c" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course5c.name }}<br>{{ course5c.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course6b or course6b.duration == 1 %}
            {% if not course6c %}
                <td id="6-c" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course6c.duration == 1 %}
                <td id="6-c" rowspan="1" width="6%" bgcolor="#BABABA">
                    <span class="time"></span>
                    <font color="white">{{ course6c.name }}<br>{{ course6c.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if not course7b or course7b.duration == 1 %}
            {% if not course7c %}
                <td id="7-c" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course7c.duration == 1 %}
                <td id="7-c" rowspan="1" width="6%" bgcolor="#58B9DC">
                    <span class="time"></span>
                    <font color="white">{{ course7c.name }}<br>{{ course7c.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

    </tr>
{# 第十三行 #}
    <tr>
        <td>
            <span class="festival">13</span>
        </td>
        {% if course1b.duration != 3 and course1c.duration != 2 %}
            {% if not course1d %}
                <td id="1-d" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course1d.duration == 1 %}
                <td id="1-d" rowspan="1" width="6%" bgcolor="#419BBF">
                    <span class="time"></span>
                    <font color="white">{{ course1d.name }}<br>{{ course1d.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course2b.duration != 3 and course2c.duration != 2 %}
            {% if not course2d %}
                <td id="2-d" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course2d.duration == 1 %}
                <td id="2-d" rowspan="1" width="6%" bgcolor="#3F8FC0">
                    <span class="time"></span>
                    <font color="white">{{ course2d.name }}<br>{{ course2d.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course3b.duration != 3 and course3c.duration != 2 %}
            {% if not course3d %}
                <td id="3-d" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course3d.duration == 1 %}
                <td id="3-d" rowspan="1" width="6%" bgcolor="#419BBF">
                    <span class="time"></span>
                    <font color="white">{{ course3d.name }}<br>{{ course3d.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course4b.duration != 3 and course4c.duration != 2 %}
            {% if not course4d %}
                <td id="4-d" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course4d.duration == 1 %}
                <td id="4-d" rowspan="1" width="6%" bgcolor="#3F8FC0">
                    <span class="time"></span>
                    <font color="white">{{ course4d.name }}<br>{{ course4d.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course5b.duration != 3 and course5c.duration != 2 %}
            {% if not course5d %}
                <td id="5-d" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course5d.duration == 1 %}
                <td id="5-d" rowspan="1" width="6%" bgcolor="#419BBF">
                    <span class="time"></span>
                    <font color="white">{{ course5d.name }}<br>{{ course5d.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course6b.duration != 3 and course6c.duration != 2 %}
            {% if not course6d %}
                <td id="6-d" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course6d.duration == 1 %}
                <td id="6-d" rowspan="1" width="6%" bgcolor="#3F8FC0">
                    <span class="time"></span>
                    <font color="white">{{ course6d.name }}<br>{{ course6d.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

        {% if course7b.duration != 3 and course7c.duration != 2 %}
            {% if not course7d %}
                <td id="7-d" rowspan="1" width="6%">
                    <span class="time"></span>
                </td>
            {% elif course7d.duration == 1 %}
                <td id="7-d" rowspan="1" width="6%" bgcolor="#419BBF">
                    <span class="time"></span>
                    <font color="white">{{ course7d.name }}<br>{{ course7d.teacher}}<br><br>
                    </font>
                </td>
            {% endif %}
        {% endif %}

    </tr>
    </tbody>
</table>

<br/><br/>




{% endblock card_content %}

